<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Calendrier 2026</title>
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: #f0f2f5;
    padding: 20px;
  }
  h1 {
    text-align: center;
    font-size: 2em;
    color: #2c3e50;
    margin-bottom: 10px;
  }
  .legend {
    display: flex;
    justify-content: center;
    gap: 24px;
    margin-bottom: 16px;
    flex-wrap: wrap;
    font-size: 0.85em;
  }
  .legend-item {
    display: flex;
    align-items: center;
    gap: 6px;
  }
  .legend-color {
    width: 18px;
    height: 18px;
    border-radius: 3px;
    border: 1px solid #ccc;
  }
  .calendar-container {
    overflow-x: auto;
    background: #fff;
    border-radius: 12px;
    box-shadow: 0 2px 12px rgba(0,0,0,0.08);
  }
  table {
    border-collapse: collapse;
    width: 100%;
    min-width: 700px;
    table-layout: fixed;
  }
  th {
    background: #2c3e50;
    color: #fff;
    padding: 10px 4px;
    font-size: 0.95em;
    text-transform: uppercase;
    letter-spacing: 1px;
    position: sticky;
    top: 0;
    z-index: 10;
  }
  td {
    padding: 3px 5px 3px 5px;
    font-size: 0.78em;
    border-right: 1px solid #e8e8e8;
    vertical-align: middle;
    height: 24px;
    line-height: 1.3;
    position: relative;
  }
  td:last-child { border-right: none; }
  .day-num {
    font-weight: 700;
    color: #2c3e50;
    display: inline-block;
    min-width: 18px;
  }
  .day-name {
    font-weight: 600;
    color: #7f8c8d;
    display: inline-block;
    min-width: 22px;
    font-size: 0.9em;
  }
  .saint {
    color: #555;
    font-style: italic;
    font-size: 0.92em;
  }
  .week-num {
    background: #3498db;
    color: #fff;
    border-radius: 3px;
    padding: 0 4px;
    font-size: 0.8em;
    font-weight: 700;
    margin-left: 2px;
  }
  /* Weekend */
  tr td.weekend {
    background: #eaf0fb;
  }
  /* Jour ferie */
  tr td.ferie {
    background: #fce4ec;
  }
  tr td.ferie .day-num,
  tr td.ferie .saint {
    color: #c0392b;
  }
  /* Zone vertical bars - absolute positioned to span full cell height */
  .zone-bars {
    position: absolute;
    left: 0;
    top: 0;
    bottom: 0;
    display: flex;
    gap: 0px;
  }
  .zone-bars .bar {
    width: 4px;
  }
  .bar-a { background: #27ae60; }
  .bar-b { background: #e67e22; }
  .bar-c { background: #8e44ad; }
  /* Rounded corners for first/last day of vacation */
  .bar.bar-start { border-radius: 3px 3px 0 0; }
  .bar.bar-end { border-radius: 0 0 3px 3px; }
  .bar.bar-start.bar-end { border-radius: 3px; }
  /* Pad cells that have bars so text doesn't overlap */
  td.has-bars { padding-left: 18px; }
  /* Legend swatches */
  .legend-bar {
    display: inline-block;
    width: 4px;
    height: 18px;
    border-radius: 2px;
    vertical-align: middle;
  }
  td.empty {
    background: #fafafa;
  }
</style>
</head>
<body>
<h1>Calendrier 2026</h1>
<div class="legend">
  <div class="legend-item"><div class="legend-color" style="background:#eaf0fb"></div> Week-end</div>
  <div class="legend-item"><div class="legend-color" style="background:#fce4ec"></div> Jour f&eacute;ri&eacute;</div>
  <div class="legend-item"><span class="legend-bar bar-a"></span> Vacances Zone A</div>
  <div class="legend-item"><span class="legend-bar bar-b"></span> Vacances Zone B</div>
  <div class="legend-item"><span class="legend-bar bar-c"></span> Vacances Zone C</div>
  <div class="legend-item"><div class="legend-color" style="background:#3498db"></div> <span style="color:#3498db;font-weight:700">S03</span> = N&deg; de semaine (lundi)</div>
</div>
<div class="calendar-container">
<table id="cal1"></table>
</div>
<div class="calendar-container" style="margin-top: 20px;">
<table id="cal2"></table>
</div>
<script>
const MONTHS = ["Janvier","F\u00e9vrier","Mars","Avril","Mai","Juin",
  "Juillet","Ao\u00fbt","Septembre","Octobre","Novembre","D\u00e9cembre"];
const DAYS_SHORT = ["Di","Lu","Ma","Me","Je","Ve","Sa"];

const SAINTS = {
  1: ["Marie","Basile","Genevi\u00e8ve","Odilon","\u00c9douard","Melchior","Raymond","Lucien","Alix","Guillaume",
      "Paulin","Tatiana","Yvette","Nina","R\u00e9mi","Marcel","Roseline","Prisca","Marius","S\u00e9bastien",
      "Agn\u00e8s","Vincent","Barnard","Fr. de Sales","Conv. Paul","Paule","Ang\u00e8le","Thomas d'A.","Gildas","Martine","Marcelle"],
  2: ["Ella","Pr\u00e9sentation","Blaise","V\u00e9ronique","Agathe","Gaston","Eug\u00e9nie","Jacqueline","Apolline","Arnaud",
      "N-D Lourdes","F\u00e9lix","B\u00e9atrice","Valentin","Claude","Julienne","Alexis","Bernadette","Gabin","Aim\u00e9e",
      "P. Damien","Isabelle","Lazare","Modeste","Rom\u00e9o","Nestor","Honorine","Romain"],
  3: ["Aubin","Ch. le Bon","Gu\u00e9nol\u00e9","Casimir","Olive","Colette","F\u00e9licit\u00e9","Jean de Dieu","Fran\u00e7oise","Vivien",
      "Rosine","Justine","Rodrigue","Mathilde","Louise","B\u00e9n\u00e9dicte","Patrick","Cyrille","Joseph","Herbert",
      "Cl\u00e9mence","L\u00e9a","Victorien","Cath. de S.","Annonciation","Larissa","Habib","Gontran","Gwladys","Am\u00e9d\u00e9e","Benjamin"],
  4: ["Hugues","Sandrine","Richard","Isidore","Ir\u00e8ne","Marcellin","J-B de la S.","Julie","Gautier","Fulbert",
      "Stanislas","Jules","Ida","Maxime","Paterne","Beno\u00eet-J.","Anicet","Parfait","Emma","Odette",
      "Anselme","Alexandre","Georges","Fid\u00e8le","Marc","Alida","Zita","Val\u00e9rie","Cath. de Sienne","Robert"],
  5: ["J\u00e9r\u00e9mie","Boris","Philippe","Sylvain","Judith","Prudence","Gis\u00e8le","D\u00e9sir\u00e9","Pac\u00f4me","Solange",
      "Estelle","Achille","Rolande","Matthias","Denise","Honor\u00e9","Pascal","\u00c9ric","Yves","Bernardin",
      "Constantin","Emile","Didier","Donatien","Sophie","B\u00e9renger","Augustin","Germain","Aymar","Ferdinand","P\u00e9tronille"],
  6: ["Justin","Blandine","K\u00e9vin","Clotilde","Igor","Norbert","Gilbert","M\u00e9dard","Diane","Landry",
      "Barnab\u00e9","Guy","Ant. de Padoue","\u00c9lis\u00e9e","Germaine","J-F R\u00e9gis","Herv\u00e9","L\u00e9once","Romuald","Silv\u00e8re",
      "Rodolphe","Alban","Audrey","Jean-Baptiste","Prosper","Anthelme","Fernand","Ir\u00e9n\u00e9e","Pierre, Paul","Martial"],
  7: ["Thierry","Martinien","Thomas","Florent","Antoine","Mariette","Raoul","Thibaut","Amandine","Ulrich",
      "Beno\u00eet","Olivier","Henri","Camille","Donald","N-D Mt Carmel","Charlotte","Fr\u00e9d\u00e9ric","Ars\u00e8ne","Marina",
      "Victor","Marie-Madeleine","Brigitte","Christine","Jacques","Anne","Nathalie","Samson","Marthe","Juliette","Ignace de L."],
  8: ["Alphonse","Julien E.","Lydie","J-M Vianney","Abel","Transfig.","Ga\u00ebtan","Dominique","Amour","Laurent",
      "Claire","Clarisse","Hippolyte","Evrard","Assomption","Armel","Hyacinthe","H\u00e9l\u00e8ne","Jean Eudes","Bernard",
      "Christophe","Fabrice","Rose de Lima","Barth\u00e9lemy","Louis","Natacha","Monique","Augustin","Sabine","Fiacre","Aristide"],
  9: ["Gilles","Ingrid","Gr\u00e9goire","Rosalie","Ra\u00efssa","Bertrand","Reine","Nativ. Marie","Alain","In\u00e8s",
      "Adelphe","Apollinaire","Aim\u00e9","La Ste Croix","Roland","\u00c9dith","Renaud","Nad\u00e8ge","\u00c9milie","Davy",
      "Matthieu","Maurice","Constance","Th\u00e8cle","Hermann","C\u00f4me, Damien","Vincent de P.","Venceslas","Michel","J\u00e9r\u00f4me"],
  10:["Th\u00e9r\u00e8se de l'E-J","L\u00e9ger","G\u00e9rard","Fr. d'Assise","Fleur","Bruno","Serge","P\u00e9lagie","Denis","Ghislain",
      "Firmin","Wilfrid","G\u00e9raud","Juste","Th. d'Avila","Edwige","Baudouin","Luc","Ren\u00e9","Adeline",
      "C\u00e9line","\u00c9lodie","Jean de C.","Florentin","Cr\u00e9pin","Dimitri","\u00c9meline","Simon, Jude","Narcisse","Bienvenu","Quentin"],
  11:["Toussaint","D\u00e9funts","Hubert","Charles","Sylvie","Bertille","Carine","Geoffrey","Th\u00e9odore","L\u00e9on",
      "Martin","Christian","Brice","Sidoine","Albert","Marguerite","\u00c9lisabeth","Aude","Tanguy","Edmond",
      "Pr\u00e9s. Marie","C\u00e9cile","Cl\u00e9ment","Flora","Catherine","Delphine","S\u00e9vrin","Jacq. de la M.","Saturnin","Andr\u00e9"],
  12:["Florence","Viviane","Fr. Xavier","Barbara","G\u00e9rald","Nicolas","Ambroise","Imm. Concept.","Pierre F.","Romaric",
      "Daniel","Jeanne de Ch.","Lucie","Odile","Ninon","Alice","Ga\u00ebl","Gatien","Urbain","Abraham",
      "Pierre Canisius","Fr.-Xavi\u00e8re","Armand","Ad\u00e8le","No\u00ebl","Etienne","Jean","Innocents","David","Roger","Sylvestre"]
};

// Jours feries 2026
const FERIES = new Set([
  "2026-01-01","2026-04-05","2026-04-06","2026-05-01","2026-05-08",
  "2026-05-14","2026-05-25","2026-07-14","2026-08-15","2026-11-01",
  "2026-11-11","2026-12-25"
]);

// Dates communes toutes zones
// Noel 2025-2026: Jan 1-4
// Pont Ascension: May 15-16
// Ete: Jul 4 -> Aug 31
// Toussaint 2026-2027: Oct 17 -> Nov 1
// Noel 2026-2027: Dec 19 -> Dec 31
function isVacancesCommunes(m, d) {
  if (m === 1 && d >= 1 && d <= 4) return true;
  if (m === 5 && (d === 15 || d === 16)) return true;
  if (m === 7 && d >= 4) return true;
  if (m === 8) return true;
  if (m === 10 && d >= 17) return true;
  if (m === 11 && d === 1) return true;
  if (m === 12 && d >= 19) return true;
  return false;
}

// Zone A: Hiver Feb 7-22, Printemps Apr 4-19
function isVacancesA(m, d) {
  if (isVacancesCommunes(m, d)) return true;
  if (m === 2 && d >= 7 && d <= 22) return true;
  if (m === 4 && d >= 4 && d <= 19) return true;
  return false;
}

// Zone B: Hiver Feb 14 -> Mar 1, Printemps Apr 11-26
function isVacancesB(m, d) {
  if (isVacancesCommunes(m, d)) return true;
  if (m === 2 && d >= 14) return true;
  if (m === 3 && d === 1) return true;
  if (m === 4 && d >= 11 && d <= 26) return true;
  return false;
}

// Zone C: Hiver Feb 21 -> Mar 8, Printemps Apr 18 -> May 3
function isVacancesC(m, d) {
  if (isVacancesCommunes(m, d)) return true;
  if (m === 2 && d >= 21) return true;
  if (m === 3 && d >= 1 && d <= 8) return true;
  if (m === 4 && d >= 18) return true;
  if (m === 5 && d >= 1 && d <= 3) return true;
  return false;
}

function getISOWeek(date) {
  const d = new Date(Date.UTC(date.getFullYear(), date.getMonth(), date.getDate()));
  d.setUTCDate(d.getUTCDate() + 4 - (d.getUTCDay() || 7));
  const yearStart = new Date(Date.UTC(d.getUTCFullYear(), 0, 1));
  return Math.ceil((((d - yearStart) / 86400000) + 1) / 7);
}

function daysInMonth(m) {
  return new Date(2026, m, 0).getDate();
}

function pad(n) { return n < 10 ? "0" + n : "" + n; }

function buildHalf(tableId, startMonth, endMonth) {
  const table = document.getElementById(tableId);
  // Header
  let headerRow = "<tr>";
  for (let m = startMonth; m <= endMonth; m++) {
    headerRow += `<th>${MONTHS[m]}</th>`;
  }
  headerRow += "</tr>";
  table.innerHTML = headerRow;

  // 31 rows max
  for (let d = 1; d <= 31; d++) {
    let row = "<tr>";
    for (let m = startMonth; m <= endMonth; m++) {
      const month = m + 1;
      const maxD = daysInMonth(month);
      if (d > maxD) {
        row += '<td class="empty"></td>';
        continue;
      }
      const date = new Date(2026, m, d);
      const dow = date.getDay(); // 0=Sun
      const isWeekend = (dow === 0 || dow === 6);
      const dateStr = `2026-${pad(month)}-${pad(d)}`;
      const isFerie = FERIES.has(dateStr);
      const vacA = isVacancesA(month, d);
      const vacB = isVacancesB(month, d);
      const vacC = isVacancesC(month, d);
      const isMonday = (dow === 1);

      // Detect start/end of vacation within this month column
      const prevD = d - 1;
      const nextD = d + 1;
      const vacA_prev = (prevD >= 1) ? isVacancesA(month, prevD) : false;
      const vacA_next = (nextD <= maxD) ? isVacancesA(month, nextD) : false;
      const vacB_prev = (prevD >= 1) ? isVacancesB(month, prevD) : false;
      const vacB_next = (nextD <= maxD) ? isVacancesB(month, nextD) : false;
      const vacC_prev = (prevD >= 1) ? isVacancesC(month, prevD) : false;
      const vacC_next = (nextD <= maxD) ? isVacancesC(month, nextD) : false;

      let cls = [];
      if (isWeekend) cls.push("weekend");
      if (isFerie) cls.push("ferie");
      if (vacA || vacB || vacC) cls.push("has-bars");

      const saint = SAINTS[month][d - 1];
      let weekBadge = "";
      if (isMonday) {
        const wn = getISOWeek(date);
        weekBadge = ` <span class="week-num">S${pad(wn)}</span>`;
      }

      let zoneBars = "";
      if (vacA || vacB || vacC) {
        zoneBars = '<span class="zone-bars">';
        if (vacA) {
          let bc = "bar bar-a";
          if (!vacA_prev) bc += " bar-start";
          if (!vacA_next) bc += " bar-end";
          zoneBars += `<span class="${bc}"></span>`;
        }
        if (vacB) {
          let bc = "bar bar-b";
          if (!vacB_prev) bc += " bar-start";
          if (!vacB_next) bc += " bar-end";
          zoneBars += `<span class="${bc}"></span>`;
        }
        if (vacC) {
          let bc = "bar bar-c";
          if (!vacC_prev) bc += " bar-start";
          if (!vacC_next) bc += " bar-end";
          zoneBars += `<span class="${bc}"></span>`;
        }
        zoneBars += '</span>';
      }

      row += `<td class="${cls.join(" ")}">` +
        `${zoneBars}` +
        `<span class="day-name">${DAYS_SHORT[dow]}</span> ` +
        `<span class="day-num">${d}</span> ` +
        `<span class="saint">${saint}</span>` +
        `${weekBadge}</td>`;
    }
    row += "</tr>";
    table.innerHTML += row;
  }
}

buildHalf("cal1", 0, 5);   // January - June
buildHalf("cal2", 6, 11);  // July - December
</script>
</body>
</html>
